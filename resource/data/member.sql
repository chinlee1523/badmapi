CREATE TABLE `member` (
  `id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '主键ID',
  `member_no` VARCHAR(32) NOT NULL UNIQUE COMMENT '会员编号',
  `username` VARCHAR(50) NOT NULL COMMENT '用户名',
  `password` VARCHAR(128) NOT NULL COMMENT '密码（加密存储）',
  `real_name` VARCHAR(50) DEFAULT NULL COMMENT '真实姓名',
  `gender` TINYINT NOT NULL COMMENT '性别(1男 2女 0未知)',
  `birthday` DATE DEFAULT NULL COMMENT '出生日期',
  `age` INT DEFAULT NULL COMMENT '年龄',
  `height` INT DEFAULT NULL COMMENT '身高(cm)',
  `weight` INT DEFAULT NULL COMMENT '体重(kg)',
  `education` VARCHAR(50) DEFAULT NULL COMMENT '学历',
  `marital_status` TINYINT DEFAULT 0 COMMENT '婚姻状况(0未婚 1离异 2丧偶 3已婚)',
  `has_children` TINYINT DEFAULT 0 COMMENT '是否有子女(0无 1有)',
  `children_count` INT DEFAULT 0 COMMENT '子女数量',
  `mobile` VARCHAR(20) NOT NULL COMMENT '手机号',
  `email` VARCHAR(100) DEFAULT NULL COMMENT '邮箱',
  `wechat` VARCHAR(50) DEFAULT NULL COMMENT '微信号',
  `id_card` VARCHAR(32) DEFAULT NULL COMMENT '身份证号',
  `hometown_city_id` BIGINT DEFAULT NULL COMMENT '家乡城市ID',
  `residence_city_id` BIGINT DEFAULT NULL COMMENT '现居住城市ID',
  `hukou_city_id` BIGINT DEFAULT NULL COMMENT '户口城市ID',
  `job` VARCHAR(100) DEFAULT NULL COMMENT '职业',
  `income` VARCHAR(50) DEFAULT NULL COMMENT '月收入',
  `avatar` VARCHAR(255) DEFAULT NULL COMMENT '头像URL',
  `photos` TEXT DEFAULT NULL COMMENT '生活照片(多张,逗号分隔)',
  `introduction` TEXT DEFAULT NULL COMMENT '自我介绍',
  `hobbies` VARCHAR(255) DEFAULT NULL COMMENT '兴趣爱好，逗号分隔',
  `is_verified` TINYINT DEFAULT 0 COMMENT '是否实名认证(0否 1是)',
  `verify_time` DATETIME DEFAULT NULL COMMENT '实名认证时间',
  `status` TINYINT DEFAULT 1 COMMENT '状态(1正常 0禁用 2黑名单 3已注销)',
  `register_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '注册时间',
  `last_login_time` DATETIME DEFAULT NULL COMMENT '最后登录时间',
  `source` VARCHAR(50) DEFAULT NULL COMMENT '注册来源(如门店/小程序/官网/推广)',
  `referrer_id` BIGINT DEFAULT NULL COMMENT '推荐人ID',
  `service_advisor_id` BIGINT DEFAULT NULL COMMENT '服务顾问ID',
  `remark` VARCHAR(255) DEFAULT NULL COMMENT '备注',
  `ext_json` JSON DEFAULT NULL COMMENT '扩展信息(JSON)',
  PRIMARY KEY (`id`),
  KEY `idx_mobile` (`mobile`),
  KEY `idx_register_time` (`register_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='会员管理表'; 